-- MySQL Script generated by MySQL Workbench
-- 2015Âπ¥03Êúà05Êó• ÊòüÊúüÂõõ 17Êó∂16ÂàÜ19Áßí
-- Model: New Model    Version: 1.0
SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0;
SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0;
SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='TRADITIONAL,ALLOW_INVALID_DATES';

-- -----------------------------------------------------
-- Schema taolijie
-- -----------------------------------------------------
CREATE SCHEMA IF NOT EXISTS `taolijie` DEFAULT CHARACTER SET utf8 COLLATE utf8_general_ci ;
USE `taolijie` ;

-- -----------------------------------------------------
-- Table `taolijie`.`role`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `taolijie`.`role` (
  `rid` INT NOT NULL AUTO_INCREMENT,
  `rolename` VARCHAR(45) NULL,
  `memo` TEXT NULL,
  PRIMARY KEY (`rid`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `taolijie`.`member`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `taolijie`.`member` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `username` VARCHAR(45) NOT NULL COMMENT 'ÁôªÈôÜÂêç',
  `password` VARCHAR(45) NOT NULL,
  `email` VARCHAR(45) NULL,
  `name` VARCHAR(45) NULL COMMENT 'Áúü‰∫∫‰∫∫Âêç',
  `student_id` VARCHAR(45) NULL COMMENT 'Â≠¶Âè∑',
  `gender` VARCHAR(10) NULL,
  `verified` VARCHAR(50) NULL COMMENT 'ÂÆ°Ê†∏Áä∂ÊÄÅÔºöNONE, INPROCESS, VERIFIED',
  `profile_photo_path` VARCHAR(256) NULL COMMENT 'Â§¥ÂÉèË∑ØÂæÑ',
  `phone` VARCHAR(20) NULL,
  `qq` VARCHAR(2) NULL,
  `age` INT NULL,
  `company_name` VARCHAR(128) NULL,
  `block_list` TEXT NULL COMMENT 'Ë¶ÅÂ±èËîΩÁöÑÂïÜÂÆ∂„ÄÇ‰øùÂ≠òidÂè∑Ôºå‰ª•;ÂàÜÈöî„ÄÇÂ¶Ç1;2;3;4;5',
  PRIMARY KEY (`id`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `taolijie`.`job_post_category`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `taolijie`.`job_post_category` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `name` VARCHAR(45) NULL,
  `memo` TEXT NULL,
  `level` INT NULL COMMENT 'ÂàÜÁ±ªÂ±ÇÊ¨°Ôºö‰∏ÄÁ∫ßÂàÜÁ±ª(1)„ÄÅ‰∫åÁ∫ßÂàÜÁ±ª(2)',
  PRIMARY KEY (`id`))
ENGINE = InnoDB
COMMENT = 'ÂÖºËÅå‰ø°ÊÅØÂàÜÁ±ª';


-- -----------------------------------------------------
-- Table `taolijie`.`job_post`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `taolijie`.`job_post` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `title` VARCHAR(45) NULL,
  `expired_time` DATE NULL,
  `post_time` DATE NULL,
  `work_place` VARCHAR(45) NULL,
  `wage` DECIMAL(6,1) NULL,
  `time_to_pay` VARCHAR(45) NULL COMMENT 'ÁªìÁÆóÊñπÂºè',
  `job_description` VARCHAR(45) NULL COMMENT 'Â∑•‰ΩúÁÆÄ‰ªã',
  `contact` VARCHAR(45) NULL COMMENT 'ËÅîÁ≥ª‰∫∫Âêç',
  `contact_phone` VARCHAR(45) NULL COMMENT 'ËÅîÁ≥ª‰∫∫ÊâãÊú∫Âè∑',
  `contact_email` VARCHAR(45) NULL COMMENT 'ËÅîÁ≥ª‰' /* comment truncated */ /*∫mail
*/,
  `contact_qq` VARCHAR(45) NULL,
  `job_detail` VARCHAR(45) NULL COMMENT 'Â∑•‰ΩúËØ¶ÁªÜÊèèËø∞',
  `introduce` TEXT NULL COMMENT 'ÂïÜÂÆ∂‰ªãÁªç',
  `likes` INT NULL,
  `dislikes` INT NULL,
  `job_post_category_id` INT NULL,
  `member_id` INT NULL,
  `education_level` VARCHAR(45) NULL COMMENT 'Â≠¶ÂéÜË¶ÅÊ±Ç‰ø°ÊÅØ',
  PRIMARY KEY (`id`),
  INDEX `fk_job_post_job_post_category1_idx` (`job_post_category_id` ASC),
  INDEX `fk_job_post_member1_idx` (`member_id` ASC),
  CONSTRAINT `fk_job_post_job_post_category1`
    FOREIGN KEY (`job_post_category_id`)
    REFERENCES `taolijie`.`job_post_category` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_job_post_member1`
    FOREIGN KEY (`member_id`)
    REFERENCES `taolijie`.`member` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `taolijie`.`resume`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `taolijie`.`resume` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `name` VARCHAR(45) NULL,
  `gender` VARCHAR(10) NULL,
  `age` INT NULL,
  `height` INT NULL,
  `phone_path` VARCHAR(256) NULL COMMENT 'Áî®Êà∑Â§¥ÂÉèÂõæÁâáË∑ØÂæÑ',
  `email` VARCHAR(45) NULL,
  `qq` VARCHAR(45) NULL,
  `experience` TEXT NULL,
  `introduce` TEXT NULL COMMENT 'Ëá™Êàë‰ªãÁªç',
  `member_id` INT NULL,
  PRIMARY KEY (`id`),
  INDEX `fk_Resume_User1_idx` (`member_id` ASC),
  CONSTRAINT `fk_Resume_User1`
    FOREIGN KEY (`member_id`)
    REFERENCES `taolijie`.`member` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `taolijie`.`review`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `taolijie`.`review` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `content` TEXT NULL,
  `post_id` INT NULL,
  `member_id` INT NULL,
  `time` DATE NULL,
  PRIMARY KEY (`id`),
  INDEX `fk_Review_Info1_idx` (`post_id` ASC),
  INDEX `fk_Review_User1_idx` (`member_id` ASC),
  CONSTRAINT `fk_Review_Info1`
    FOREIGN KEY (`post_id`)
    REFERENCES `taolijie`.`job_post` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_Review_User1`
    FOREIGN KEY (`member_id`)
    REFERENCES `taolijie`.`member` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `taolijie`.`school`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `taolijie`.`school` (
  `id` INT NOT NULL,
  `short_name` VARCHAR(20) NULL,
  `full_name` VARCHAR(128) NULL,
  `province` VARCHAR(45) NULL COMMENT 'Â§ßÂ≠¶ÊâÄÂú®ÁúÅ‰ªΩ',
  `type` VARCHAR(45) NULL COMMENT 'e.g., HIGH_SCHOOL, UNDERGRADUATE, INSTITUTE(‰∏ìÁßë)',
  PRIMARY KEY (`id`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `taolijie`.`academy`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `taolijie`.`academy` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `short_name` VARCHAR(20) NULL,
  `full_name` VARCHAR(128) NULL,
  `college_id` INT NULL,
  PRIMARY KEY (`id`),
  INDEX `fk_School_College1_idx` (`college_id` ASC),
  CONSTRAINT `fk_School_College1`
    FOREIGN KEY (`college_id`)
    REFERENCES `taolijie`.`school` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB
COMMENT = 'Â≠¶Èô¢';


-- -----------------------------------------------------
-- Table `taolijie`.`banner_pic`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `taolijie`.`banner_pic` (
  `id` INT NOT NULL,
  `picture_path` VARCHAR(45) NULL,
  `time` DATE NULL,
  PRIMARY KEY (`id`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `taolijie`.`second_hand_post_category`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `taolijie`.`second_hand_post_category` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `name` VARCHAR(45) NULL,
  `memo` TEXT NULL,
  `level` INT NULL,
  PRIMARY KEY (`id`))
ENGINE = InnoDB
COMMENT = '‰∫åÊâã‰ø°ÊÅØÂ∏ñÂ≠êÂàÜÁ±ª';


-- -----------------------------------------------------
-- Table `taolijie`.`second_hand_post`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `taolijie`.`second_hand_post` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `title` VARCHAR(45) NULL,
  `expired_time` DATE NULL COMMENT 'ËøáÊúüÊó∂Èó¥',
  `post_time` DATE NULL,
  `depreciation_rate` VARCHAR(10) NULL COMMENT '9ÊàêÔº' /* comment truncated */ /*95Êàê
*/,
  `original_price` DECIMAL(6,1) NULL COMMENT 'Âéü‰ª∑Ê†º',
  `sell_price` DECIMAL(6,1) NULL COMMENT 'Áé∞‰ª∑',
  `picture_path` TEXT NULL COMMENT 'Áâ©ÂìÅÂõæÁâáË∑ØÂæÑÔºå‰ª•;ÂàÜÂè∑ÂàÜÈöî„ÄÇÂ¶Ç: /home/a.jpg;/home/b.jpg',
  `description` TEXT NULL COMMENT 'Áâ©ÂìÅÊèèËø∞',
  `likes` INT NULL,
  `dislikes` INT NULL,
  `member_id` INT NULL,
  `second_hand_post_category_id` INT NULL,
  PRIMARY KEY (`id`),
  INDEX `fk_second_hand_post_member1_idx` (`member_id` ASC),
  INDEX `fk_second_hand_post_second_hand_post_category1_idx` (`second_hand_post_category_id` ASC),
  CONSTRAINT `fk_second_hand_post_member1`
    FOREIGN KEY (`member_id`)
    REFERENCES `taolijie`.`member` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_second_hand_post_second_hand_post_category1`
    FOREIGN KEY (`second_hand_post_category_id`)
    REFERENCES `taolijie`.`second_hand_post_category` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `taolijie`.`notification`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `taolijie`.`notification` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `member_id` INT NULL,
  `title` VARCHAR(45) NULL,
  `content` TEXT NULL,
  `is_read` INT NULL COMMENT '0:Êú™ËØª, 1Â∑≤ËØª',
  `time` DATE NULL,
  PRIMARY KEY (`id`),
  INDEX `fk_notification_member1_idx` (`member_id` ASC),
  CONSTRAINT `fk_notification_member1`
    FOREIGN KEY (`member_id`)
    REFERENCES `taolijie`.`member` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `taolijie`.`job_post`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `taolijie`.`job_post` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `title` VARCHAR(45) NULL,
  `expired_time` DATE NULL,
  `post_time` DATE NULL,
  `work_place` VARCHAR(45) NULL,
  `wage` DECIMAL(6,1) NULL,
  `time_to_pay` VARCHAR(45) NULL COMMENT 'ÁªìÁÆóÊñπÂºè',
  `job_description` VARCHAR(45) NULL COMMENT 'Â∑•‰ΩúÁÆÄ‰ªã',
  `contact` VARCHAR(45) NULL COMMENT 'ËÅîÁ≥ª‰∫∫Âêç',
  `contact_phone` VARCHAR(45) NULL COMMENT 'ËÅîÁ≥ª‰∫∫ÊâãÊú∫Âè∑',
  `contact_email` VARCHAR(45) NULL COMMENT 'ËÅîÁ≥ª‰' /* comment truncated */ /*∫mail
*/,
  `contact_qq` VARCHAR(45) NULL,
  `job_detail` VARCHAR(45) NULL COMMENT 'Â∑•‰ΩúËØ¶ÁªÜÊèèËø∞',
  `introduce` TEXT NULL COMMENT 'ÂïÜÂÆ∂‰ªãÁªç',
  `likes` INT NULL,
  `dislikes` INT NULL,
  `job_post_category_id` INT NULL,
  `member_id` INT NULL,
  `education_level` VARCHAR(45) NULL COMMENT 'Â≠¶ÂéÜË¶ÅÊ±Ç‰ø°ÊÅØ',
  PRIMARY KEY (`id`),
  INDEX `fk_job_post_job_post_category1_idx` (`job_post_category_id` ASC),
  INDEX `fk_job_post_member1_idx` (`member_id` ASC),
  CONSTRAINT `fk_job_post_job_post_category1`
    FOREIGN KEY (`job_post_category_id`)
    REFERENCES `taolijie`.`job_post_category` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_job_post_member1`
    FOREIGN KEY (`member_id`)
    REFERENCES `taolijie`.`member` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `taolijie`.`news`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `taolijie`.`news` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `title` VARCHAR(45) NULL,
  `content` TEXT NULL,
  `picture_path` TEXT NULL COMMENT 'ÊñáÁ´†ÂºïÁî®ÁöÑÂõæÁâáË∑ØÂæÑÔºå‰ª•;ÂàÜÈöî',
  `time` DATE NULL,
  `member_id` INT NULL,
  `head_picture_path` VARCHAR(256) NULL COMMENT 'ÊñáÁ´†Ê†áÈ¢òÊóÅËæπÊòæÁ§∫ÁöÑÂõæÁâá',
  PRIMARY KEY (`id`),
  INDEX `fk_news_member1_idx` (`member_id` ASC),
  CONSTRAINT `fk_news_member1`
    FOREIGN KEY (`member_id`)
    REFERENCES `taolijie`.`member` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB
COMMENT = 'È¶ñÈ°µÊòæÁ§∫ÁöÑÊñ∞Èóª‰ø°ÊÅØ';


-- -----------------------------------------------------
-- Table `taolijie`.`education_experience`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `taolijie`.`education_experience` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `member_id` INT NULL,
  `college_id` INT NULL,
  `admission_time` DATE NULL COMMENT 'ÂÖ•Â≠¶Êó∂Èó¥',
  `length_of_schooling` INT NULL COMMENT 'Â≠¶Âà∂(Âπ¥)',
  `major` VARCHAR(45) NULL COMMENT '‰∏ì‰∏ö',
  `academy_id` INT NULL,
  PRIMARY KEY (`id`),
  INDEX `fk_education_experience_member1_idx` (`member_id` ASC),
  INDEX `fk_education_experience_college1_idx` (`college_id` ASC),
  INDEX `fk_education_experience_academy1_idx` (`academy_id` ASC),
  CONSTRAINT `fk_education_experience_member1`
    FOREIGN KEY (`member_id`)
    REFERENCES `taolijie`.`member` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_education_experience_college1`
    FOREIGN KEY (`college_id`)
    REFERENCES `taolijie`.`school` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_education_experience_academy1`
    FOREIGN KEY (`academy_id`)
    REFERENCES `taolijie`.`academy` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB
COMMENT = 'ÊïôËÇ≤ÁªèÂéÜ';


-- -----------------------------------------------------
-- Table `taolijie`.`member_role`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `taolijie`.`member_role` (
  `member_id` INT NULL,
  `role_rid` INT NULL,
  `id` INT NOT NULL AUTO_INCREMENT,
  INDEX `fk_member_has_role_role1_idx` (`role_rid` ASC),
  INDEX `fk_member_has_role_member1_idx` (`member_id` ASC),
  PRIMARY KEY (`id`),
  CONSTRAINT `fk_member_has_role_member1`
    FOREIGN KEY (`member_id`)
    REFERENCES `taolijie`.`member` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_member_has_role_role1`
    FOREIGN KEY (`role_rid`)
    REFERENCES `taolijie`.`role` (`rid`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `taolijie`.`application_config`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `taolijie`.`application_config` (
  `id` INT NOT NULL,
  PRIMARY KEY (`id`))
ENGINE = InnoDB;


SET SQL_MODE=@OLD_SQL_MODE;
SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS;
SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS;
