package com.fh.taolijie.dao.mapper;

import com.fh.taolijie.cache.annotation.RedisCache;
import com.fh.taolijie.cache.annotation.RedisEvict;
import com.fh.taolijie.domain.JobPostModel;
import org.apache.ibatis.annotations.Param;
import org.springframework.cache.annotation.CacheEvict;
import org.springframework.cache.annotation.Cacheable;
import org.springframework.cache.annotation.Caching;
import org.springframework.stereotype.Repository;

import java.util.List;

@Repository
public interface JobPostModelMapper {
    /**
     * This method was generated by MyBatis Generator.
     * This method corresponds to the database table job_post
     *
     * @mbggenerated
     */
    @RedisEvict(type = JobPostModel.class)
    int deleteByPrimaryKey(Integer id);

    /**
     * This method was generated by MyBatis Generator.
     * This method corresponds to the database table job_post
     *
     * @mbggenerated
     */
    @RedisEvict(type = JobPostModel.class)
    int insert(JobPostModel record);

    /**
     * This method was generated by MyBatis Generator.
     * This method corresponds to the database table job_post
     *
     * @mbggenerated
     */
    @RedisEvict(type = JobPostModel.class)
    int insertSelective(JobPostModel record);

    /**
     * This method was generated by MyBatis Generator.
     * This method corresponds to the database table job_post
     *
     * @mbggenerated
     */
    @RedisCache(type = JobPostModel.class)
    JobPostModel selectByPrimaryKey(Integer id);

    /**
     * This method was generated by MyBatis Generator.
     * This method corresponds to the database table job_post
     *
     * @mbggenerated
     */
    @RedisEvict(type = JobPostModel.class)
    int updateByPrimaryKeySelective(JobPostModel record);


    /**
     * This method was generated by MyBatis Generator.
     * This method corresponds to the database table job_post
     *
     * @mbggenerated
     */
    @RedisEvict(type = JobPostModel.class)
    int updateByPrimaryKey(JobPostModel record);

    @RedisCache(type = JobPostModel.class)
    List<JobPostModel> getAll(@Param("pageNumber") int pageNumber, @Param("pageSize") int pageSize);
    long countGetAll();

    @RedisCache(type = JobPostModel.class)
    List<JobPostModel> getInBatch(List<Integer> idList);

    List<JobPostModel> getByComplaint(@Param("pageNumber") int pageNumber, @Param("pageSize") int pageSize);


    @RedisCache(type = JobPostModel.class)
    List<JobPostModel> findBy(JobPostModel model);
    long countFindBy(JobPostModel model);

    @RedisCache(type = JobPostModel.class)
    List<JobPostModel> searchBy(JobPostModel model);
    long countSearchBy(JobPostModel model);

    void complaint(Integer postId);


    @RedisEvict(type = JobPostModel.class)
    void increasePageView(Integer postId);

    @RedisEvict(type = JobPostModel.class)
    void increaseLike(Integer postId);
    @RedisEvict(type = JobPostModel.class)
    void decreaseLike(Integer postId);

    void postResume(@Param("resumeId") Integer resumeId, @Param("jobPostId") Integer jobPostId, @Param("memberId") Integer memberId);

    /**
     * set deleted = true
     * @param postId
     */
    @RedisEvict(type = JobPostModel.class)
    int setDeleted(@Param("postId") Integer postId, @Param("deleted") boolean deleted);
}